(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{226:function(t,_,a){"use strict";a.r(_);var v=a(28),r=Object(v.a)({},(function(){var t=this,_=t.$createElement,a=t._self._c||_;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"http"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http"}},[t._v("#")]),t._v(" HTTP")]),t._v(" "),a("p",[t._v("记录一下关于 http 的一些东西")]),t._v(" "),a("p",[t._v("说http前，了解一个老生常谈的面试问题：\n"),a("code",[t._v("在浏览器中输入url，按下回车到页面渲染都有哪些过程？")])]),t._v(" "),a("h2",{attrs:{id:"_0-url到页面渲染过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-url到页面渲染过程"}},[t._v("#")]),t._v(" 0. url到页面渲染过程")]),t._v(" "),a("h3",{attrs:{id:"_0-1-url-解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-1-url-解析"}},[t._v("#")]),t._v(" 0.1 url 解析")]),t._v(" "),a("ul",[a("li",[t._v("解析：判断搜索的地址还是一个关键词。")]),t._v(" "),a("li",[t._v("HSTS: HTTP严格传输安全。\n"),a("ul",[a("li",[t._v("p.s. 强制使用Https请求，当请求了第一次之后(无论http还是https)，最终重定向到https请求，然后响应头中会含有"),a("code",[t._v("Strict-Transport-Security")]),t._v(" 字段，之后到请求，如果发现是http，都会变成 https 的请求方式.(当然是可以设置"),a("code",[t._v("max-age")]),t._v(")")])])]),t._v(" "),a("li",[t._v("其他操作：访问的安全检查，亦或者访问限制。(例如浏览器会限制访问哪些网站等等)")]),t._v(" "),a("li",[t._v("检查缓存：如果是强缓存("),a("code",[t._v("200")]),t._v(")，则不会再次请求。如果是协商缓存("),a("code",[t._v("304")]),t._v(")，则会发一个请求去确认缓存的时效性。")])]),t._v(" "),a("h3",{attrs:{id:"_0-2-dns查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-2-dns查询"}},[t._v("#")]),t._v(" 0.2 DNS查询")]),t._v(" "),a("p",[a("em",[t._v("DNS (Domain Name System)")]),t._v(": 是一个基于UDP协议的域名系统，负责把域名解析成IP.")]),t._v(" "),a("p",[t._v("真正请求地址应该是IP地址，而不是域名。所以，第一步会判断是不是非IP地址。\n如若是域名，则会去查询正在的IP地址后再访问。")]),t._v(" "),a("h4",{attrs:{id:"_0-2-1-浏览器缓存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-2-1-浏览器缓存"}},[t._v("#")]),t._v(" 0.2.1 浏览器缓存")]),t._v(" "),a("p",[t._v("谷歌可以通过访问："),a("RouterLink",{attrs:{to:"chrome://net-internals/#dns"}},[t._v("chrome://net-internals/#dns")]),t._v(" 来看浏览器对DNS的缓存;")],1),t._v(" "),a("h4",{attrs:{id:"_0-2-2-系统缓存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-2-2-系统缓存"}},[t._v("#")]),t._v(" 0.2.2 系统缓存")]),t._v(" "),a("p",[t._v("本地 hosts 文件下可以有"),a("code",[t._v("域名")]),t._v("对应"),a("code",[t._v("IP")]),t._v("的配置，如果，没有命中；则会去DNS服务器发起查询请求。")]),t._v(" "),a("h4",{attrs:{id:"_0-2-3-路由器缓存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-2-3-路由器缓存"}},[t._v("#")]),t._v(" 0.2.3 路由器缓存")]),t._v(" "),a("p",[t._v("这个没什么好说的，路由器可以设置。")]),t._v(" "),a("h4",{attrs:{id:"_0-2-4-isp-dns-缓存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-2-4-isp-dns-缓存"}},[t._v("#")]),t._v(" 0.2.4 ISP DNS 缓存")]),t._v(" "),a("p",[t._v("就是用户电脑可以设置DNS服务器的IP地址，通过这些运营商的DNS服务器解析")]),t._v(" "),a("h4",{attrs:{id:"_0-2-5-根域名服务器查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-2-5-根域名服务器查询"}},[t._v("#")]),t._v(" 0.2.5 根域名服务器查询")]),t._v(" "),a("h3",{attrs:{id:"_0-3-tcp-连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-3-tcp-连接"}},[t._v("#")]),t._v(" 0.3 TCP 连接")]),t._v(" "),a("h3",{attrs:{id:"_0-4-处理请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-4-处理请求"}},[t._v("#")]),t._v(" 0.4 处理请求")]),t._v(" "),a("h3",{attrs:{id:"_0-5-接受响应"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-5-接受响应"}},[t._v("#")]),t._v(" 0.5 接受响应")]),t._v(" "),a("h3",{attrs:{id:"_0-6-渲染页面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-6-渲染页面"}},[t._v("#")]),t._v(" 0.6 渲染页面")]),t._v(" "),a("h2",{attrs:{id:"_1-http-的通讯过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-http-的通讯过程"}},[t._v("#")]),t._v(" 1. HTTP 的通讯过程")]),t._v(" "),a("h2",{attrs:{id:"_2-https"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-https"}},[t._v("#")]),t._v(" 2. HTTPS")]),t._v(" "),a("h3",{attrs:{id:"_2-1-https-解决的问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-https-解决的问题"}},[t._v("#")]),t._v(" 2.1 https 解决的问题")]),t._v(" "),a("ul",[a("li",[t._v("信息加密传输：第三方无法窃听。")]),t._v(" "),a("li",[t._v("校验机制：一旦被篡改，通信双方会立刻发现。")]),t._v(" "),a("li",[t._v("身份证书：防止身份被冒充。")])]),t._v(" "),a("h3",{attrs:{id:"_2-2-https-连接过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-https-连接过程"}},[t._v("#")]),t._v(" 2.2 https 连接过程")]),t._v(" "),a("ol",[a("li",[t._v("客户端请求服务器获取证书公钥")]),t._v(" "),a("li",[t._v("客户端(SSL/TLS)解析证书（无效会弹出警告）")]),t._v(" "),a("li",[t._v("生成随机值")]),t._v(" "),a("li",[t._v("用公钥加密随机值生成密钥")]),t._v(" "),a("li",[t._v("客户端将秘钥发送给服务器")]),t._v(" "),a("li",[t._v("服务端用私钥解密秘钥得到随机值")]),t._v(" "),a("li",[t._v("将信息和随机值混合在一起进行对称加密")]),t._v(" "),a("li",[t._v("将加密的内容发送给客户端")]),t._v(" "),a("li",[t._v("客户端用秘钥解密信息")])]),t._v(" "),a("ul",[a("li",[t._v("服务端有：公钥，私钥。")]),t._v(" "),a("li",[t._v("当客户端请求，返回公钥给客户端。")]),t._v(" "),a("li",[t._v("客户端验证证书是否有效。\n"),a("ul",[a("li",[t._v("无效\n"),a("ul",[a("li",[t._v("弹出警告")])])]),t._v(" "),a("li",[t._v("有效\n"),a("ul",[a("li",[t._v("生成一个随机值")]),t._v(" "),a("li",[t._v("用公钥加密随机值返回给服务端")]),t._v(" "),a("li",[t._v("服务端用私钥解密私钥，得到随机值")]),t._v(" "),a("li",[t._v("用随机值对信息进行对称加密，发送给客户端")]),t._v(" "),a("li",[t._v("客户端用公钥解密后，得到对称加密的信息，用随机值对内容进行解密。")])])])])])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/80551769",target:"_blank",rel:"noopener noreferrer"}},[t._v("1"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"http://www.dailichun.com/2018/03/12/whenyouenteraurl.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("2"),a("OutboundLink")],1)])])}),[],!1,null,null,null);_.default=r.exports}}]);