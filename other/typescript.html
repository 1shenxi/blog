<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Typescript | ShenXi 神夕</title>
    <meta name="description" content="全面发展德智体美劳的小小programmer">
    <meta name="generator" content="VuePress 1.3.1">
    <link rel="shortcut icon" type="image/x-icon" href="/blog/favicon.ico">
    
    <link rel="preload" href="/blog/assets/css/0.styles.47cf6a72.css" as="style"><link rel="preload" href="/blog/assets/js/app.81756711.js" as="script"><link rel="preload" href="/blog/assets/js/2.fd7f5526.js" as="script"><link rel="preload" href="/blog/assets/js/28.e1fc5e82.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.8d54e636.js"><link rel="prefetch" href="/blog/assets/js/11.9b75ace5.js"><link rel="prefetch" href="/blog/assets/js/12.22020e48.js"><link rel="prefetch" href="/blog/assets/js/13.37f094a4.js"><link rel="prefetch" href="/blog/assets/js/14.c7da6611.js"><link rel="prefetch" href="/blog/assets/js/15.e67d8f13.js"><link rel="prefetch" href="/blog/assets/js/16.c422fbf8.js"><link rel="prefetch" href="/blog/assets/js/17.26fabe10.js"><link rel="prefetch" href="/blog/assets/js/18.07c4e6e7.js"><link rel="prefetch" href="/blog/assets/js/19.af262761.js"><link rel="prefetch" href="/blog/assets/js/20.6e13539b.js"><link rel="prefetch" href="/blog/assets/js/21.08e2a74c.js"><link rel="prefetch" href="/blog/assets/js/22.d8eaaaa2.js"><link rel="prefetch" href="/blog/assets/js/23.d4d337df.js"><link rel="prefetch" href="/blog/assets/js/24.ffd68452.js"><link rel="prefetch" href="/blog/assets/js/25.40ad8ff2.js"><link rel="prefetch" href="/blog/assets/js/26.cb530eb6.js"><link rel="prefetch" href="/blog/assets/js/27.eb40bb1b.js"><link rel="prefetch" href="/blog/assets/js/29.fe38c4f6.js"><link rel="prefetch" href="/blog/assets/js/3.35cb6433.js"><link rel="prefetch" href="/blog/assets/js/30.4b9d698f.js"><link rel="prefetch" href="/blog/assets/js/31.8afac0a4.js"><link rel="prefetch" href="/blog/assets/js/32.86513517.js"><link rel="prefetch" href="/blog/assets/js/33.424be091.js"><link rel="prefetch" href="/blog/assets/js/34.383486ac.js"><link rel="prefetch" href="/blog/assets/js/35.027708f1.js"><link rel="prefetch" href="/blog/assets/js/4.f03b7f8e.js"><link rel="prefetch" href="/blog/assets/js/5.302ae34e.js"><link rel="prefetch" href="/blog/assets/js/6.39398203.js"><link rel="prefetch" href="/blog/assets/js/7.b7d9f7d2.js"><link rel="prefetch" href="/blog/assets/js/8.a7ec8e90.js"><link rel="prefetch" href="/blog/assets/js/9.3acab9d1.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.47cf6a72.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">ShenXi 神夕</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="学习" class="dropdown-title"><span class="title">学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/study/webpack/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/blog/study/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/blog/study/react/" class="nav-link">
  React
</a></li></ul></div></div><div class="nav-item"><a href="/blog/leetcode/" class="nav-link">
  LeetCode
</a></div><div class="nav-item"><a href="/blog/typescript/" class="nav-link">
  Typescript
</a></div><div class="nav-item"><a href="/blog/test/" class="nav-link">
  单元测试
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="规范" class="dropdown-title"><span class="title">规范</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/format/eslint/" class="nav-link">
  Eslint
</a></li><li class="dropdown-item"><!----> <a href="/blog/format/git/" class="nav-link">
  Git提交规范
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="源码分析" class="dropdown-title"><span class="title">源码分析</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/origincode/lodash/" class="nav-link">
  lodash
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机体系" class="dropdown-title"><span class="title">计算机体系</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/computer/computer-principles/" class="nav-link">
  计算机组成原理
</a></li><li class="dropdown-item"><!----> <a href="/blog/computer/b/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/blog/computer/a/" class="nav-link">
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/blog/computer/c/" class="nav-link">
  数据结构与算法
</a></li></ul></div></div><div class="nav-item"><a href="/blog/other/" class="nav-link router-link-active">
  杂七杂八
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="学习" class="dropdown-title"><span class="title">学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/study/webpack/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/blog/study/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/blog/study/react/" class="nav-link">
  React
</a></li></ul></div></div><div class="nav-item"><a href="/blog/leetcode/" class="nav-link">
  LeetCode
</a></div><div class="nav-item"><a href="/blog/typescript/" class="nav-link">
  Typescript
</a></div><div class="nav-item"><a href="/blog/test/" class="nav-link">
  单元测试
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="规范" class="dropdown-title"><span class="title">规范</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/format/eslint/" class="nav-link">
  Eslint
</a></li><li class="dropdown-item"><!----> <a href="/blog/format/git/" class="nav-link">
  Git提交规范
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="源码分析" class="dropdown-title"><span class="title">源码分析</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/origincode/lodash/" class="nav-link">
  lodash
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机体系" class="dropdown-title"><span class="title">计算机体系</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/computer/computer-principles/" class="nav-link">
  计算机组成原理
</a></li><li class="dropdown-item"><!----> <a href="/blog/computer/b/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/blog/computer/a/" class="nav-link">
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/blog/computer/c/" class="nav-link">
  数据结构与算法
</a></li></ul></div></div><div class="nav-item"><a href="/blog/other/" class="nav-link router-link-active">
  杂七杂八
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>杂七杂八</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/other/http.html" class="sidebar-link">Http杂谈</a></li><li><a href="/blog/other/https.html" class="sidebar-link">Https杂谈</a></li><li><a href="/blog/other/typescript.html" class="active sidebar-link">Typescript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/other/typescript.html#_0-tsconfig-json-配置项" class="sidebar-link">0. tsconfig.json 配置项</a></li><li class="sidebar-sub-header"><a href="/blog/other/typescript.html#_0-1-file-inclusion" class="sidebar-link">0.1 File Inclusion</a></li><li class="sidebar-sub-header"><a href="/blog/other/typescript.html#_0-2-project-options" class="sidebar-link">0.2 Project Options</a></li><li class="sidebar-sub-header"><a href="/blog/other/typescript.html#_0-3-strict-checks" class="sidebar-link">0.3 Strict Checks</a></li><li class="sidebar-sub-header"><a href="/blog/other/typescript.html#_0-4-module-resolution" class="sidebar-link">0.4 Module Resolution</a></li><li class="sidebar-sub-header"><a href="/blog/other/typescript.html#_0-5-source-maps" class="sidebar-link">0.5 Source Maps</a></li><li class="sidebar-sub-header"><a href="/blog/other/typescript.html#_0-6-linter-checks" class="sidebar-link">0.6 Linter Checks</a></li><li class="sidebar-sub-header"><a href="/blog/other/typescript.html#_0-7-experimental" class="sidebar-link">0.7 Experimental</a></li><li class="sidebar-sub-header"><a href="/blog/other/typescript.html#_0-8-command-line" class="sidebar-link">0.8 Command Line</a></li><li class="sidebar-sub-header"><a href="/blog/other/typescript.html#_0-9-watch-options" class="sidebar-link">0.9 Watch Options</a></li><li class="sidebar-sub-header"><a href="/blog/other/typescript.html#_0-10-advanced" class="sidebar-link">0.10 Advanced</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="typescript"><a href="#typescript" class="header-anchor">#</a> Typescript</h1> <p>当前书写的配置版本是基于<code>3.9.1</code></p> <h2 id="_0-tsconfig-json-配置项"><a href="#_0-tsconfig-json-配置项" class="header-anchor">#</a> 0. tsconfig.json 配置项</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token comment">/* File Inclusion */</span>
  <span class="token string">&quot;include&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;src/**/*&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;tests/**/*&quot;</span><span class="token punctuation">]</span>


  <span class="token string">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">/* Project Options */</span>
    <span class="token string">&quot;allowJs&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string">&quot;checkJs&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string">&quot;composite&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string">&quot;declaration&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string">&quot;declarationMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string">&quot;downlevelIteration&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string">&quot;importHelpers&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string">&quot;incremental&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string">&quot;isolatedModules&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string">&quot;jsx&quot;</span><span class="token operator">:</span> <span class="token string">&quot;preserve&quot;</span><span class="token punctuation">,</span>                  
    <span class="token comment">// &quot;lib&quot;: [&quot;es5&quot;, &quot;es2015&quot;, &quot;es2016&quot;, &quot;es2017&quot;, &quot;es2018&quot;, &quot;dom&quot;],</span>
    <span class="token string">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;commonjs&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// &quot;noEmit&quot;: true,</span>
    <span class="token string">&quot;outDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// &quot;outFile&quot;: &quot;./&quot;,</span>
    <span class="token comment">// &quot;plugin&quot;: [],</span>
  
    <span class="token string">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;es5&quot;</span><span class="token punctuation">,</span>                          <span class="token comment">/* Specify ECMAScript target version: 'ES3' (default), 'ES5', 'ES2015', 'ES2016', 'ES2017', 'ES2018', 'ES2019', 'ES2020', or 'ESNEXT'. */</span>
    <span class="token comment">// &quot;sourceMap&quot;: true,                     /* Generates corresponding '.map' file. */</span>
    <span class="token comment">// &quot;rootDir&quot;: &quot;./&quot;,                       /* Specify the root directory of input files. Use to control the output directory structure with --outDir. */</span>
    <span class="token comment">// &quot;tsBuildInfoFile&quot;: &quot;./&quot;,               /* Specify file to store incremental compilation information */</span>
    <span class="token comment">// &quot;removeComments&quot;: true,                /* Do not emit comments to output. */</span>

    <span class="token comment">/* Strict Type-Checking Options */</span>
    <span class="token string">&quot;strict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                           <span class="token comment">/* Enable all strict type-checking options. */</span>
    <span class="token comment">// &quot;noImplicitAny&quot;: true,                 /* Raise error on expressions and declarations with an implied 'any' type. */</span>
    <span class="token comment">// &quot;strictNullChecks&quot;: true,              /* Enable strict null checks. */</span>
    <span class="token comment">// &quot;strictFunctionTypes&quot;: true,           /* Enable strict checking of function types. */</span>
    <span class="token comment">// &quot;strictBindCallApply&quot;: true,           /* Enable strict 'bind', 'call', and 'apply' methods on functions. */</span>
    <span class="token comment">// &quot;strictPropertyInitialization&quot;: true,  /* Enable strict checking of property initialization in classes. */</span>
    <span class="token comment">// &quot;noImplicitThis&quot;: true,                /* Raise error on 'this' expressions with an implied 'any' type. */</span>
    <span class="token comment">// &quot;alwaysStrict&quot;: true,                  /* Parse in strict mode and emit &quot;use strict&quot; for each source file. */</span>

    <span class="token comment">/* Additional Checks */</span>
    <span class="token comment">// &quot;noUnusedLocals&quot;: true,                /* Report errors on unused locals. */</span>
    <span class="token comment">// &quot;noUnusedParameters&quot;: true,            /* Report errors on unused parameters. */</span>
    <span class="token comment">// &quot;noImplicitReturns&quot;: true,             /* Report error when not all code paths in function return a value. */</span>
    <span class="token comment">// &quot;noFallthroughCasesInSwitch&quot;: true,    /* Report errors for fallthrough cases in switch statement. */</span>

    <span class="token comment">/* Module Resolution Options */</span>
    <span class="token comment">// &quot;moduleResolution&quot;: &quot;node&quot;,            /* Specify module resolution strategy: 'node' (Node.js) or 'classic' (TypeScript pre-1.6). */</span>
    <span class="token comment">// &quot;baseUrl&quot;: &quot;./&quot;,                       /* Base directory to resolve non-absolute module names. */</span>
    <span class="token comment">// &quot;paths&quot;: {},                           /* A series of entries which re-map imports to lookup locations relative to the 'baseUrl'. */</span>
    <span class="token comment">// &quot;rootDirs&quot;: [],                        /* List of root folders whose combined content represents the structure of the project at runtime. */</span>
    <span class="token comment">// &quot;typeRoots&quot;: [],                       /* List of folders to include type definitions from. */</span>
    <span class="token comment">// &quot;types&quot;: [],                           /* Type declaration files to be included in compilation. */</span>
    <span class="token comment">// &quot;allowSyntheticDefaultImports&quot;: true,  /* Allow default imports from modules with no default export. This does not affect code emit, just typechecking. */</span>
    <span class="token string">&quot;esModuleInterop&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                  <span class="token comment">/* Enables emit interoperability between CommonJS and ES Modules via creation of namespace objects for all imports. Implies 'allowSyntheticDefaultImports'. */</span>
    <span class="token comment">// &quot;preserveSymlinks&quot;: true,              /* Do not resolve the real path of symlinks. */</span>
    <span class="token comment">// &quot;allowUmdGlobalAccess&quot;: true,          /* Allow accessing UMD globals from modules. */</span>

    <span class="token comment">/* Source Map Options */</span>
    <span class="token comment">// &quot;sourceRoot&quot;: &quot;&quot;,                      /* Specify the location where debugger should locate TypeScript files instead of source locations. */</span>
    <span class="token comment">// &quot;mapRoot&quot;: &quot;&quot;,                         /* Specify the location where debugger should locate map files instead of generated locations. */</span>
    <span class="token comment">// &quot;inlineSourceMap&quot;: true,               /* Emit a single file with source maps instead of having a separate file. */</span>
    <span class="token comment">// &quot;inlineSources&quot;: true,                 /* Emit the source alongside the sourcemaps within a single file; requires '--inlineSourceMap' or '--sourceMap' to be set. */</span>

    <span class="token comment">/* Experimental Options */</span>
    <span class="token comment">// &quot;experimentalDecorators&quot;: true,        /* Enables experimental support for ES7 decorators. */</span>
    <span class="token comment">// &quot;emitDecoratorMetadata&quot;: true,         /* Enables experimental support for emitting type metadata for decorators. */</span>

    <span class="token comment">/* Advanced Options */</span>
    <span class="token string">&quot;skipLibCheck&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>                     <span class="token comment">/* Skip type checking of declaration files. */</span>
    <span class="token string">&quot;forceConsistentCasingInFileNames&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>  <span class="token comment">/* Disallow inconsistently-cased references to the same file. */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="_0-1-file-inclusion"><a href="#_0-1-file-inclusion" class="header-anchor">#</a> 0.1 File Inclusion</h2> <h3 id="_0-1-1-exclude"><a href="#_0-1-1-exclude" class="header-anchor">#</a> 0.1.1 exclude</h3> <p><code>default: [&quot;node_modules&quot;, &quot;bower_components&quot;, &quot;jspm_packages&quot;]</code></p> <p>指定哪些文件会<strong>跳过</strong>编译操作。</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p><strong>注意</strong>: <code>exclude</code> 只跳过包含在 <code>include</code> 文件所包含的文件。它不会排除文件中，<code>include</code> 中有的文件引入了 <code>exclude</code> 中的文件, 它是不处理这种依赖关系的，只处理该文件是否包含在<code>include</code>, 至于未排除的文件，引入了排除文件中的内容，依旧会被打包进代码库。</p></div> <h3 id="_0-1-2-extends"><a href="#_0-1-2-extends" class="header-anchor">#</a> 0.1.2 extends</h3> <p><code>default: false</code></p> <p>配置继承。
举例：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// configs/base.json:</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;noImplicitAny&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;strictNullChecks&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// tsconfig.json</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;extends&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./configs/base&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;files&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;main.ts&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;supplemental.ts&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// tsconfig.nostrictnull.json</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;extends&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./tsconfig&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;strictNullChecks&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_0-1-3-files"><a href="#_0-1-3-files" class="header-anchor">#</a> 0.1.3 files</h3> <p><code>default: false</code></p> <p>对指定的文件进行编译处理。如果有任意文件没有找到就会报错。</p> <p>举例：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;files&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;core.ts&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;sys.ts&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;types.ts&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;scanner.ts&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;parser.ts&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;utilities.ts&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;binder.ts&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;checker.ts&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;tsc.ts&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>用于小型工程是有意义的，而不需要使用 glob 模式，如果文件很多的，请使用 <a href="#include">inlude</a></p></div> <h3 id="_0-1-4-include"><a href="#_0-1-4-include" class="header-anchor">#</a> 0.1.4 include</h3> <p>确定哪些目录一定会被编译处理。</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// tsconfig.json</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;include&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;src/**/*&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;tests/**/*&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>情况如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">.</span>
├── scripts                ⨯
│   ├── lint<span class="token punctuation">.</span>ts            ⨯
│   ├── update_deps<span class="token punctuation">.</span>ts     ⨯
│   └── utils<span class="token punctuation">.</span>ts           ⨯
├── src                    ✓
│   ├── client             ✓
│   │    ├── index<span class="token punctuation">.</span>ts      ✓
│   │    └── utils<span class="token punctuation">.</span>ts      ✓
│   ├── server             ✓
│   │    └── index<span class="token punctuation">.</span>ts      ✓
├── tests                  ✓
│   ├── app<span class="token punctuation">.</span>test<span class="token punctuation">.</span>ts        ✓
│   ├── utils<span class="token punctuation">.</span>ts           ✓
│   └── tests<span class="token punctuation">.</span>d<span class="token punctuation">.</span>ts         ✓
├── <span class="token keyword">package</span><span class="token punctuation">.</span>json
├── tsconfig<span class="token punctuation">.</span>json
└── yarn<span class="token punctuation">.</span>lock
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><code>include</code> 和 <code>exclude</code> 支持通配符的全局模式：</p> <ul><li><ul><li>匹配零个或多个字符（目录分隔符除外）</li></ul></li> <li>? 匹配任何一个字符（目录分隔符除外）</li> <li>**/ 匹配嵌套到任何级别的任何目录</li></ul> <p>如果glob模式不包括文件扩展名，则只有部分文件扩展被支持（例如:  默认情况下 <code>.ts</code>，<code>.tsx</code>和<code>.d.ts</code>，<code>.js</code>和 <code>.jsx</code>, 设置<code>allowJs</code>为<code>true</code> 也可以被默认）。</p></div> <h3 id="_0-1-5-references"><a href="#_0-1-5-references" class="header-anchor">#</a> 0.1.5 references</h3> <p>TODO: 有点晦涩，没场景解读。</p> <h3 id="_0-1-6-typeacquisition"><a href="#_0-1-6-typeacquisition" class="header-anchor">#</a> 0.1.6 typeAcquisition</h3> <p>类型获取。就是可以指定是否开启自动获取类型。</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;typeAcquisition&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;enable&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>   <span class="token comment">// 默认为 true。`TypeScript` 会自动以 `nodule_modules/@types` 下的声明导入。</span>
    <span class="token property">&quot;include&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;jest&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment">// 如果有声明模块不在 `node_modules` 下，可以在这里配。</span>
    <span class="token property">&quot;exclude&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;jquery&quot;</span><span class="token punctuation">]</span> <span class="token comment">// 如果，已经有自己的某个声明，可以忽略掉 `node_modules` 下的，使用自己的。</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>TODO: 自己尝试写了个目录，当未生效。</strong></p> <h2 id="_0-2-project-options"><a href="#_0-2-project-options" class="header-anchor">#</a> 0.2 Project Options</h2> <h3 id="_0-2-1-allowjs"><a href="#_0-2-1-allowjs" class="header-anchor">#</a> 0.2.1 allowJs</h3> <p>允许导入 js文件。如果为 false，在 ts 文件中 import js文件会报错。</p> <h3 id="_0-2-2-checkjs"><a href="#_0-2-2-checkjs" class="header-anchor">#</a> 0.2.2 checkJs</h3> <p>与 “allowJs” 协同，会对 js 中的使用，也进行类型校验。
例如：&quot;checkJs&quot;: false,</p> <p>文件 <code>file1.js</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">const</span> pi <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token number">3.14</span><span class="token punctuation">)</span>   <span class="token comment">// 其实 parseFloat(str: String), 入参规定是 字符串。</span>
</code></pre></div><p>文件 <code>file2.ts</code></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> pi <span class="token keyword">from</span> <span class="token string">'files1.js'</span>  <span class="token comment">// 这里不会报错。如果，&quot;checkJs&quot;: true, 则会报错，入参必须为 String.</span>
</code></pre></div><h3 id="_0-2-3-composite"><a href="#_0-2-3-composite" class="header-anchor">#</a> 0.2.3 composite</h3> <p>启动工程编译.(TODO:❓不太懂什么意思。)</p> <p>前置条件：</p> <ul><li><code>allowJs</code> 属性必须开启。</li> <li>设置 <code>rootDir</code> 配置项。</li> <li>所有的声明文件都必须在 <code>includes</code> 和 <code>files</code> 属性中有列出来。</li> <li>复合功能的开启，强依赖，<code>declaration</code> 的开启。</li></ul> <h3 id="_0-2-4-declaration"><a href="#_0-2-4-declaration" class="header-anchor">#</a> 0.2.4 declaration</h3> <p>为项目下的 ts 和 js 文件生成，对应的 d.ts 声明文件.</p> <h3 id="_0-2-5-declarationmap"><a href="#_0-2-5-declarationmap" class="header-anchor">#</a> 0.2.5 declarationMap</h3> <p><code>Generates a sourcemap for each corresponding '.d.ts' file.</code></p> <p>declarationMap 属性，依赖于 <code>declaration</code> 或 <code>composite</code> 属性中的任意一个的开启，
会生成 .d.ts.map 文件，对应源 .d.ts 文件的 sourceMap.</p> <h3 id="_0-2-6-downleveliteration"><a href="#_0-2-6-downleveliteration" class="header-anchor">#</a> 0.2.6 downlevelIteration</h3> <p><code>Provide full support for iterables in 'for-of', spread, and destructuring when targeting 'ES5' or 'ES3'.</code></p> <p>解释：设置为 false 时，则对迭代器的写法默认自动降级成 for 循环。例如，for-of, [...arr], function(...args) 和 Symbol.iterator, 都会被转换成 for 循环进行赋值。</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>注意：虽然绝大多数情况下是满足期望的，但不是百分百。例如，很多 emoji，如（😜），for 循环的长度为2，甚至更多，但是迭代器只会读取到一个。
关于这个可以看<a href="https://blog.jonnew.com/posts/poo-dot-length-equals-two" target="_blank" rel="noopener noreferrer">this blog post by Jonathan New<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></div> <p>如果，Symbol.iterator 不被提供在运行时，就存在一些问题。如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Make an array where the '1' element is missing</span>
<span class="token keyword">let</span> missing <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> spreaded <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>missing<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> concated <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>missing<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token string">&quot;1&quot;</span> <span class="token keyword">in</span> spreaded<span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token string">&quot;1&quot;</span> <span class="token keyword">in</span> concated<span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre></div><p>所有，只有当 Symbol.iterator，被提供的时候才能更加准备的模仿 ES6 的行为。</p> <p><strong>简而言之，开启就对了，可以尽可能提高合法性。（如果原生不支持，Symbol.iterator就尴尬了。)</strong></p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>假想：能否通过 babel 对 Symbol 的垫片来完成更加低版本的兼容问题。</p></div> <h3 id="_0-2-7-importhelpers"><a href="#_0-2-7-importhelpers" class="header-anchor">#</a> 0.2.7 importHelpers</h3> <p><code>Import emit helpers from 'tslib'.</code></p> <p>简称为：导入助手。
在降级过程中，例如上面对迭代器的兼容，使用一个 for循环的函数。如果，很多文件都有使用的话，则会每个文件都有自己的一个迭代器的实现。
downlevelIteration 和 importHelpers 开启的话，就会去引入 'tslib' 来进行模版的复用。</p> <h3 id="_0-2-8-incremental"><a href="#_0-2-8-incremental" class="header-anchor">#</a> 0.2.8 incremental</h3> <p><code>Enable incremental compilation</code></p> <p>创建一个 .tsbuildinfo 后缀的名称，跟随在 tsconfig.json 目录中。
此功能是展示一个对项目中依赖关系的图文件，可以随时删除，对项目无影响。</p> <h3 id="_0-2-9-isolatedmodules"><a href="#_0-2-9-isolatedmodules" class="header-anchor">#</a> 0.2.9 isolatedModules</h3> <p><code>Transpile each file as a separate module (similar to 'ts.transpileModule').</code></p> <p>即：对每个文件都进行隔离模块导出。即，必须在文件中使用 import/export.
例如：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 假设 someType 根本没被定义，没有这个导出项，那么 export 出的 someType 将被过滤掉。从而引发 js 运行时错误。</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> someType<span class="token punctuation">,</span> someFunction <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;module1&quot;</span><span class="token punctuation">;</span>

<span class="token function">someFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> someType<span class="token punctuation">,</span> someFunction <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>TODO: 个人疑问：someType 没写，按理来说不是，ts 编译器就会报错，为什么，到运行时？还是说，其他的编译器可以通过？例如，babel。</p></div> <h3 id="_0-2-10-jsx"><a href="#_0-2-10-jsx" class="header-anchor">#</a> 0.2.10 jsx</h3> <p><code>Specify JSX code generation: 'preserve', 'react-native', or 'react'.</code></p> <p>对 jsx 语法的内置支持。三种支持的区别为：</p> <table><thead><tr><th>模式</th> <th>输入</th> <th>输出</th> <th>输出文件扩展名</th></tr></thead> <tbody><tr><td>preserve</td> <td>&lt;div /&gt;</td> <td>&lt;div /&gt;</td> <td>.jsx</td></tr> <tr><td>react</td> <td>&lt;div /&gt;</td> <td>React.createElement(&quot;div&quot;)</td> <td>.js</td></tr> <tr><td>react-native</td> <td>&lt;div /&gt;</td> <td>&lt;div /&gt;</td> <td>.js</td></tr></tbody></table> <p>碰到问题1: JSX 元素隐式具有类型 &quot;any&quot;，因为不存在接口 &quot;JSX.IntrinsicElements&quot;。
解决：React 对 IntrinsicElements 接口， Element 接口等都进行了实现，貌似在 react.d.ts</p> <p><strong>解决方案：<code>npm i -D @types/react</code></strong></p> <h3 id="_0-2-11-lib"><a href="#_0-2-11-lib" class="header-anchor">#</a> 0.2.11 lib</h3> <p><code>Specify library files to be included in the compilation.</code></p> <p>即，编译过程中需要引入的库文件的列表。
更多：https://www.typescriptlang.org/tsconfig#lib</p> <p><strong>一般情况下，无需做更改，默认即可</strong></p> <h3 id="_0-2-12-module"><a href="#_0-2-12-module" class="header-anchor">#</a> 0.2.12 module</h3> <p><code>Specify module code generation: 'none', 'commonjs', 'amd', 'system', 'umd', 'es2015', 'es2020', or 'ESNext'.</code></p> <p>设置模版的导出类型。
直接参考官网文档即可：<a href="https://www.typescriptlang.org/tsconfig#module" target="_blank" rel="noopener noreferrer">文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="_0-2-13-noemit"><a href="#_0-2-13-noemit" class="header-anchor">#</a> 0.2.13 noEmit</h3> <p><code>Do not emit outputs</code></p> <p>让 <code>typescript</code> 不输出编译后的文件，只对类型做校验检查。</p> <p><strong>这是一个很重要的指令(曾经是...)</strong></p> <p>曾经在做 ts 文件编译，<code>typescript</code> 在降级编译等，以及一些其他编译能力上还不够完善(现在发现以前的问题，tsc 自身都可以解决了。)，然后就需要用非 tsc 的编译器去编译文件，例如 <code>babel</code>, 但是 需要使用 <code>typescript</code> 来做类型校验，所以就不用输出两份文件，也不需要先 tsc 编译，再babel 编译这样的弟弟行为。</p> <h3 id="_0-2-14-outdir"><a href="#_0-2-14-outdir" class="header-anchor">#</a> 0.2.14 outDir</h3> <p><code>Redirect output structure to the directory.</code></p> <p>文件的输出目录，没啥好说的。</p> <h3 id="_0-2-15-outfile"><a href="#_0-2-15-outfile" class="header-anchor">#</a> 0.2.15 outFile</h3> <p><code>Concatenate and emit output to single file.</code></p> <p>输出文件到指定的文件中。</p> <ul><li>所有的<strong>非模块文件</strong>会输出到该文件</li> <li>如果<code>module</code>为<code>system</code> or <code>amd</code>，那么模块文件会在所有的非模块文件输出完之后，串联输入到该文件中。</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>注意： outFile只能用在 <code>module</code> 为 <code>none</code>, <code>system</code>, <code>amd</code>，此选项不能用于 <code>commonjs</code> 和 <code>esm</code>.</p> <p>TODO: 个人还没有确定的使用场景，之后补上。</p></div> <h3 id="_0-2-16-plugin"><a href="#_0-2-16-plugin" class="header-anchor">#</a> 0.2.16 plugin</h3> <p>在编辑器中运行的语言服务插件列表。</p> <p>语言服务插件是一种基于现有TypeScript文件向用户提供其他信息的方法。他们可以增强TypeScript和编辑器之间的现有消息，或者提供自己的错误消息。</p> <p>例如：</p> <ul><li><a href="https://github.com/xialvjun/ts-sql-plugin#readme" target="_blank" rel="noopener noreferrer">ts-sql-plugin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 使用模板字符串“ SQL构建器”添加SQL lint。</li> <li><a href="https://github.com/Microsoft/typescript-styled-plugin" target="_blank" rel="noopener noreferrer">typescript-styled-plugin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 在模板字符串中提供CSS linting。</li> <li><a href="https://github.com/Quramy/typescript-eslint-language-service" target="_blank" rel="noopener noreferrer">typescript-eslint-language-service<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> : 在编译器的输出中提供eslint错误消息和修复。</li> <li><a href="https://github.com/Quramy/ts-graphql-plugin" target="_blank" rel="noopener noreferrer">ts-graphql-plugin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 在GraphQL查询模板字符串内提供验证和自动完成。</li></ul> <h3 id="removecomments"><a href="#removecomments" class="header-anchor">#</a> removeComments</h3> <p><code>default: false</code></p> <p>编译到 js 后，是否移除注释。</p> <h3 id="_0-2-17-rootdir"><a href="#_0-2-17-rootdir" class="header-anchor">#</a> 0.2.17 rootDir</h3> <p><code>default: Computed from the list of input files</code></p> <p>设置哪个目录下的文件要编译。</p> <h3 id="_0-2-18-sourcemap"><a href="#_0-2-18-sourcemap" class="header-anchor">#</a> 0.2.18 sourceMap</h3> <p><code>default: false</code></p> <p>是否生成源码的 <code>sourceMap</code>.</p> <h3 id="_0-2-19-target"><a href="#_0-2-19-target" class="header-anchor">#</a> 0.2.19 target</h3> <p><code>default: 'ES5'</code></p> <p>准备编译到哪个<code>ESM的版本</code>。</p> <h3 id="_0-2-20-tsbuildinfofile"><a href="#_0-2-20-tsbuildinfofile" class="header-anchor">#</a> 0.2.20 tsBuildInfoFile</h3> <p><code>default: .tsbuildinfo</code></p> <p>当设置 <code>incremental</code> 为 <code>true</code>, 则会生成依赖图，这个用于修改生成文件的名称。</p> <h2 id="_0-3-strict-checks"><a href="#_0-3-strict-checks" class="header-anchor">#</a> 0.3 Strict Checks</h2> <h3 id="_0-3-1-alwaysstrict"><a href="#_0-3-1-alwaysstrict" class="header-anchor">#</a> 0.3.1 alwaysStrict</h3> <p><code>default: false;</code></p> <p>始终严格: 给每个编译输出的js文件增加<code>use strict</code></p> <h3 id="_0-3-2-noimplicitany"><a href="#_0-3-2-noimplicitany" class="header-anchor">#</a> 0.3.2 noImplicitAny</h3> <p><code>default: true;</code></p> <p>不准有隐式的 any参数。</p> <div class="language-ts extra-class"><div class="highlight-lines"><br><div class="highlighted"> </div><br><br><br></div><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">s</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Parameter 's' implicitly has an 'any' type.</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">subtr</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_0-3-3-noimplicitthis"><a href="#_0-3-3-noimplicitthis" class="header-anchor">#</a> 0.3.3 noImplicitThis</h3> <p><code>default: true;</code></p> <p>不准有隐式的 <code>this</code>.</p> <div class="language-ts extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Rectangle</span> <span class="token punctuation">{</span>
  width<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  height<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>

  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter">width<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">=</span> width<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">=</span> height<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">getAreaFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 'this' implicitly has type 'any' because it does not have a type annotation.</span>
      <span class="token comment">// 'this' implicitly has type 'any' because it does not have a type annotation.</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>height<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// getAreaFunction(this: Rectangle) {</span>
  <span class="token comment">//   return function () {</span>
  <span class="token comment">//     return this.width * this.height;</span>
  <span class="token comment">//   };</span>
  <span class="token comment">// }</span>

<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>如果想使用 <code>this</code>, 可以声明到第一参数上，编译后，不会占用参数位置。如上注释代码。</p></div> <h3 id="_0-3-4-strict"><a href="#_0-3-4-strict" class="header-anchor">#</a> 0.3.4 strict</h3> <p><code>default: false;</code></p> <p>是否启用严格模式。</p> <p>该项设为 <code>true</code>, 那么将开启所有的 <code>Strict</code> 校验，可根据需求去关闭其他指定的选项。如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;strict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 默认开启了其他的 strict 校验。</span>
    <span class="token property">&quot;noImplicitThis&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>   <span class="token comment">// 关闭 noImplicitThis</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_0-3-5-strictbindcallapply"><a href="#_0-3-5-strictbindcallapply" class="header-anchor">#</a> 0.3.5 strictBindCallApply</h3> <p><code>default: false</code></p> <p>对 call,bind,apply 的函数进行参数校验。</p> <div class="language-ts extra-class"><div class="highlight-lines"><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br></div><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> n1 <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Argument of type 'boolean' is not assignable to parameter of type 'string'.</span>
<span class="token comment">// 关掉这不会报错。</span>
<span class="token keyword">const</span> n2 <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_0-3-6-strictfunctiontypes"><a href="#_0-3-6-strictfunctiontypes" class="header-anchor">#</a> 0.3.6 strictFunctionTypes</h3> <p><code>default: false</code></p> <p>检查函数的入参和出参的数据类型是否正确。</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>该模式对函数式编程友好，对于固有的不安全层级性质的数据校验不友好，就像DOM对象。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> Methodish <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">func</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, &quot;</span> <span class="token operator">+</span> x<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Ultimately an unsafe assignment, but not detected</span>
<span class="token comment">// m 对象的 func 是不安全的，但是未被检测到。</span>
<span class="token keyword">const</span> m<span class="token operator">:</span> Methodish <span class="token operator">=</span> <span class="token punctuation">{</span>
  func<span class="token operator">:</span> fn<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
m<span class="token punctuation">.</span><span class="token function">func</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <h3 id="_0-3-7-strictnullchecks"><a href="#_0-3-7-strictnullchecks" class="header-anchor">#</a> 0.3.7 strictNullChecks</h3> <p><code>default: false</code></p> <p>如果为 <code>false</code>, 会认为 <code>null</code> 和 <code>undefined</code> 将会被忽略，这可能导致运行时错误。例如：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">declare</span> <span class="token keyword">const</span> loggedInUsername<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> users <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;Oby&quot;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">12</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;Heera&quot;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">32</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> loggedInUser <span class="token operator">=</span> users<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">u</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> u<span class="token punctuation">.</span>name <span class="token operator">===</span> loggedInUsername<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 如果开启会有如下报错：</span>
<span class="token comment">// ‘loggedInUser’ is possibly 'undefined'. </span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>loggedInUser<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_0-3-8-strictpropertyinitialization"><a href="#_0-3-8-strictpropertyinitialization" class="header-anchor">#</a> 0.3.8 strictPropertyInitialization</h3> <p><code>default: false</code></p> <p>严格初始化数据，如下：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">UserAccount</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  accountType <span class="token operator">=</span> <span class="token string">&quot;user&quot;</span><span class="token punctuation">;</span>

  email<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token comment">// Property 'email' has no initializer and is not definitely assigned in the constructor.</span>
  address<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>

  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token comment">// Note that this.email is not set</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>关于上述案例:</p> <ul><li><code>this.name</code> 被设置了初始化.</li> <li><code>this.accountType</code> 有默认值.</li> <li><code>this.email</code> 由于没有设置而报错.</li> <li><code>this.address</code> 由于声明了可能为 <code>undefined</code>, 所以可以无需初始化.</li></ul> <h2 id="_0-4-module-resolution"><a href="#_0-4-module-resolution" class="header-anchor">#</a> 0.4 Module Resolution</h2> <h3 id="_0-4-1-allowsyntheticdefaultimports"><a href="#_0-4-1-allowsyntheticdefaultimports" class="header-anchor">#</a> 0.4.1 allowSyntheticDefaultImports</h3> <h3 id="_0-4-2-allowumdglobalaccess"><a href="#_0-4-2-allowumdglobalaccess" class="header-anchor">#</a> 0.4.2 allowUmdGlobalAccess</h3> <h3 id="_0-4-3-baseurl"><a href="#_0-4-3-baseurl" class="header-anchor">#</a> 0.4.3 baseUrl</h3> <h3 id="_0-4-4-esmoduleinterop"><a href="#_0-4-4-esmoduleinterop" class="header-anchor">#</a> 0.4.4 esModuleInterop</h3> <h3 id="_0-4-5-moduleresolution"><a href="#_0-4-5-moduleresolution" class="header-anchor">#</a> 0.4.5 moduleResolution</h3> <h3 id="_0-4-6-paths"><a href="#_0-4-6-paths" class="header-anchor">#</a> 0.4.6 paths</h3> <h3 id="_0-4-7-preservesymlinks"><a href="#_0-4-7-preservesymlinks" class="header-anchor">#</a> 0.4.7 preserveSymlinks</h3> <h3 id="_0-4-8-rootdirs"><a href="#_0-4-8-rootdirs" class="header-anchor">#</a> 0.4.8 rootDirs</h3> <h3 id="_0-4-9-typeroots"><a href="#_0-4-9-typeroots" class="header-anchor">#</a> 0.4.9 typeRoots</h3> <h3 id="_0-4-10-types"><a href="#_0-4-10-types" class="header-anchor">#</a> 0.4.10 types</h3> <h2 id="_0-5-source-maps"><a href="#_0-5-source-maps" class="header-anchor">#</a> 0.5 Source Maps</h2> <h3 id="_0-5-1-inlinesourcemap"><a href="#_0-5-1-inlinesourcemap" class="header-anchor">#</a> 0.5.1 inlineSourceMap</h3> <p>行内 sourceMap，即输出到js文件底部，不做额外文件输出。</p> <h3 id="_0-5-2-inlinesources"><a href="#_0-5-2-inlinesources" class="header-anchor">#</a> 0.5.2 inlineSources</h3> <p>需要 <code>inlineSourceMap</code> 或 <code>sourceRoot</code> 任意一个搭配使用。增加源文件的sourceMap.</p> <p>例如, 只配置 <code>inlineSourceMap</code>，则 js 下的 sourceMap 只包含编译后的 <code>.js</code>, 配置 <code>inlineSources</code>, 可包含 <code>.ts</code>.</p> <h3 id="_0-5-3-maproot"><a href="#_0-5-3-maproot" class="header-anchor">#</a> 0.5.3 mapRoot</h3> <p>TODO: ???</p> <h3 id="_0-5-4-sourcemap"><a href="#_0-5-4-sourcemap" class="header-anchor">#</a> 0.5.4 sourceMap</h3> <p>文成 <code>.js.map</code> 的sourceMap 文件。</p> <h3 id="_0-5-5-sourceroot"><a href="#_0-5-5-sourceroot" class="header-anchor">#</a> 0.5.5 sourceRoot</h3> <p>TODO: ???</p> <h2 id="_0-6-linter-checks"><a href="#_0-6-linter-checks" class="header-anchor">#</a> 0.6 Linter Checks</h2> <h3 id="_0-6-1-nofallthroughcasesinswitch"><a href="#_0-6-1-nofallthroughcasesinswitch" class="header-anchor">#</a> 0.6.1 noFallthroughCasesInSwitch</h3> <p><code>switch</code> 的语句中，有多个 <code>case</code> 时，如果没有 <code>break</code> or <code>return</code>，则会报错。</p> <div class="language-ts extra-class"><div class="highlight-lines"><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br></div><pre class="language-ts"><code><span class="token keyword">const</span> a<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>

<span class="token keyword">switch</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span>
    <span class="token comment">// Fallthrough case in switch.</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;even&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;odd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_0-6-2-noimplicitreturns"><a href="#_0-6-2-noimplicitreturns" class="header-anchor">#</a> 0.6.2 noImplicitReturns</h3> <p>选项为<code>true</code>，则会检查所有函数的都有定义返回值。</p> <div class="language-ts extra-class"><div class="highlight-lines"><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br></div><pre class="language-ts"><code><span class="token comment">// &quot;noImplicitReturns&quot;: true，如果把返回值类型删除，则会有提示。</span>
<span class="token keyword">function</span> <span class="token function">lookupHeadphonesManufacturer</span><span class="token punctuation">(</span>color<span class="token operator">:</span> <span class="token string">&quot;blue&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;black&quot;</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
  <span class="token comment">// Function lacks ending return statement and return type does not include 'undefined'.</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>color <span class="token operator">===</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;beats&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;bose&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// &quot;noImplicitReturns&quot;: false, 删除返回值类型，就不会报错了。</span>
<span class="token keyword">function</span> <span class="token function">lookupHeadphonesManufacturer</span><span class="token punctuation">(</span>color<span class="token operator">:</span> <span class="token string">&quot;blue&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;black&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Function lacks ending return statement and return type does not include 'undefined'.</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>color <span class="token operator">===</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;beats&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;bose&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_0-6-3-nounusedlocals"><a href="#_0-6-3-nounusedlocals" class="header-anchor">#</a> 0.6.3 noUnusedLocals</h3> <p>如果有值被声明未使用，则会提示报错。</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>可能项目中有使用 eslint 或者 tslint，当你关掉了之后 &quot;no-unused-var&quot; 后，还提示未使用，可以看看是不是这个值为 <code>true</code> 呢？</p></div> <h3 id="_0-6-4-nounusedparameters"><a href="#_0-6-4-nounusedparameters" class="header-anchor">#</a> 0.6.4 noUnusedParameters</h3> <p>函数中，如果有声明参数，但未使用，则会提示报错。</p> <h2 id="_0-7-experimental"><a href="#_0-7-experimental" class="header-anchor">#</a> 0.7 Experimental</h2> <h3 id="_0-7-1-emitdecoratormetadata"><a href="#_0-7-1-emitdecoratormetadata" class="header-anchor">#</a> 0.7.1 emitDecoratorMetadata</h3> <p><code>default: false</code></p> <p>是否使用元数据 Metadata。此选项依赖 <code>experimentalDecorators</code> 的开启。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 源文件</span>
<span class="token keyword">function</span> <span class="token function">LogMethod</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">symbol</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a :&gt;&gt; '</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>

  @LogMethod
  <span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 未开启后的编译文件</span>
<span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> __decorate <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>__decorate<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">decorators<span class="token punctuation">,</span> target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> desc</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> c <span class="token operator">=</span> arguments<span class="token punctuation">.</span>length<span class="token punctuation">,</span> r <span class="token operator">=</span> c <span class="token operator">&lt;</span> <span class="token number">3</span> <span class="token operator">?</span> target <span class="token operator">:</span> desc <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">?</span> desc <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">)</span> <span class="token operator">:</span> desc<span class="token punctuation">,</span> d<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> Reflect <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> Reflect<span class="token punctuation">.</span>decorate <span class="token operator">===</span> <span class="token string">&quot;function&quot;</span><span class="token punctuation">)</span> r <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">decorate</span><span class="token punctuation">(</span>decorators<span class="token punctuation">,</span> target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> desc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> decorators<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>d <span class="token operator">=</span> decorators<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> r <span class="token operator">=</span> <span class="token punctuation">(</span>c <span class="token operator">&lt;</span> <span class="token number">3</span> <span class="token operator">?</span> <span class="token function">d</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span> <span class="token operator">:</span> c <span class="token operator">&gt;</span> <span class="token number">3</span> <span class="token operator">?</span> <span class="token function">d</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> r<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">d</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span> r<span class="token punctuation">;</span>
    <span class="token keyword">return</span> c <span class="token operator">&gt;</span> <span class="token number">3</span> <span class="token operator">&amp;&amp;</span> r <span class="token operator">&amp;&amp;</span> Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">,</span> r<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">LogMethod</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a :&gt;&gt; '</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token comment">/** @class */</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token constant">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">A</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">log</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">__decorate</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        LogMethod
    <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token class-name">A</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">&quot;log&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token constant">A</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 开启后的编译文件</span>
<span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> __decorate <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>__decorate<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">decorators<span class="token punctuation">,</span> target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> desc</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> c <span class="token operator">=</span> arguments<span class="token punctuation">.</span>length<span class="token punctuation">,</span> r <span class="token operator">=</span> c <span class="token operator">&lt;</span> <span class="token number">3</span> <span class="token operator">?</span> target <span class="token operator">:</span> desc <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">?</span> desc <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">)</span> <span class="token operator">:</span> desc<span class="token punctuation">,</span> d<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> Reflect <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> Reflect<span class="token punctuation">.</span>decorate <span class="token operator">===</span> <span class="token string">&quot;function&quot;</span><span class="token punctuation">)</span> r <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">decorate</span><span class="token punctuation">(</span>decorators<span class="token punctuation">,</span> target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> desc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> decorators<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>d <span class="token operator">=</span> decorators<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> r <span class="token operator">=</span> <span class="token punctuation">(</span>c <span class="token operator">&lt;</span> <span class="token number">3</span> <span class="token operator">?</span> <span class="token function">d</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span> <span class="token operator">:</span> c <span class="token operator">&gt;</span> <span class="token number">3</span> <span class="token operator">?</span> <span class="token function">d</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> r<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">d</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span> r<span class="token punctuation">;</span>
    <span class="token keyword">return</span> c <span class="token operator">&gt;</span> <span class="token number">3</span> <span class="token operator">&amp;&amp;</span> r <span class="token operator">&amp;&amp;</span> Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">,</span> r<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> __metadata <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>__metadata<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">k<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> Reflect <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> Reflect<span class="token punctuation">.</span>metadata <span class="token operator">===</span> <span class="token string">&quot;function&quot;</span><span class="token punctuation">)</span> <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">metadata</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">LogMethod</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a :&gt;&gt; '</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token comment">/** @class */</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token constant">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">A</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">log</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">__decorate</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        LogMethod<span class="token punctuation">,</span>
        <span class="token function">__metadata</span><span class="token punctuation">(</span><span class="token string">&quot;design:type&quot;</span><span class="token punctuation">,</span> Function<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">__metadata</span><span class="token punctuation">(</span><span class="token string">&quot;design:paramtypes&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">__metadata</span><span class="token punctuation">(</span><span class="token string">&quot;design:returntype&quot;</span><span class="token punctuation">,</span> <span class="token keyword">void</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token class-name">A</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">&quot;log&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token constant">A</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_0-7-2-experimentaldecorators"><a href="#_0-7-2-experimentaldecorators" class="header-anchor">#</a> 0.7.2 experimentalDecorators</h3> <p><code>default: false</code>
是否开启实验中的装饰器写法。</p> <h2 id="_0-8-command-line"><a href="#_0-8-command-line" class="header-anchor">#</a> 0.8 Command Line</h2> <h3 id="_0-8-1-preservewatchoutput"><a href="#_0-8-1-preservewatchoutput" class="header-anchor">#</a> 0.8.1 preserveWatchOutput</h3> <p>当开启 <code>--watch</code> 模式的时候，为 <code>true</code>, 则不会删除控制台每次更新打印的东西。为 <code>false</code>, 每次修改保存，都会清空控制台。</p> <h3 id="_0-8-2-pretty"><a href="#_0-8-2-pretty" class="header-anchor">#</a> 0.8.2 pretty</h3> <p>默认开启，给编译器提供一个单一颜色并具有上下文的<code>干净环境</code>。</p> <h2 id="_0-9-watch-options"><a href="#_0-9-watch-options" class="header-anchor">#</a> 0.9 Watch Options</h2> <p>从 3.8 版本才有的新配置项。一套新的 watching 策略去监听你的目录。</p> <ul><li><p>fixedPollingInterval : 以固定的时间间隔，检查文件的更改</p></li> <li><p>priorityPollingInterval : 以固定的时间间隔，检查文件的更改，但是使用「heuristics」检查某些类型的文件的频率比其他文件低</p></li> <li><p>dynamicPriorityPolling : 使用动态队列，在该队列中，较少检查不经常修改的文件</p></li> <li><p>useFsEvents【default】 : 尝试使用操作系统/文件系统原生事件来监听文件更改</p></li> <li><p>useFsEventsOnParentDirectory : 尝试使用操作系统/文件系统原生事件来监听文件、目录的更改，这样可以使用较小的文件监听程序，但是准确性可能较低</p></li> <li><p>synchronousWatchDirectory : 在目录上禁用延迟监听功能。在可能一次发生大量文件（如 node_modules）更改时，它非常有用，但是你可能需要一些不太常见的设置时，禁用它。</p></li></ul> <h3 id="_0-9-1-fallbackpolling"><a href="#_0-9-1-fallbackpolling" class="header-anchor">#</a> 0.9.1 fallbackPolling</h3> <p>当使用文件系统的事件，该选项用来指定使用特定策略</p> <h3 id="_0-9-2-watchdirectory"><a href="#_0-9-2-watchdirectory" class="header-anchor">#</a> 0.9.2 watchDirectory</h3> <p>在缺少递归文件监听功能的系统中，使用哪种策略监听整个目录树</p> <h3 id="_0-9-3-watchfile"><a href="#_0-9-3-watchfile" class="header-anchor">#</a> 0.9.3 watchFile</h3> <p>监听单个文件的策略</p> <h2 id="_0-10-advanced"><a href="#_0-10-advanced" class="header-anchor">#</a> 0.10 Advanced</h2> <h3 id="_0-10-1-allowunreachablecode"><a href="#_0-10-1-allowunreachablecode" class="header-anchor">#</a> 0.10.1 allowUnreachableCode</h3> <h3 id="_0-10-2-allowunusedlabels"><a href="#_0-10-2-allowunusedlabels" class="header-anchor">#</a> 0.10.2 allowUnusedLabels</h3> <h3 id="_0-10-3-assumechangesonlyaffectdirectdependencies"><a href="#_0-10-3-assumechangesonlyaffectdirectdependencies" class="header-anchor">#</a> 0.10.3 assumeChangesOnlyAffectDirectDependencies</h3> <h3 id="_0-10-4-charset"><a href="#_0-10-4-charset" class="header-anchor">#</a> 0.10.4 charset</h3> <h3 id="_0-10-5-declarationdir"><a href="#_0-10-5-declarationdir" class="header-anchor">#</a> 0.10.5 declarationDir</h3> <h3 id="_0-10-6-diagnostics"><a href="#_0-10-6-diagnostics" class="header-anchor">#</a> 0.10.6 diagnostics</h3> <h3 id="_0-10-7-disablesizelimit"><a href="#_0-10-7-disablesizelimit" class="header-anchor">#</a> 0.10.7 disableSizeLimit</h3> <h3 id="_0-10-8-disablesolutionsearching"><a href="#_0-10-8-disablesolutionsearching" class="header-anchor">#</a> 0.10.8 disableSolutionSearching</h3> <h3 id="_0-10-9-disablesourceofprojectreferenceredirect"><a href="#_0-10-9-disablesourceofprojectreferenceredirect" class="header-anchor">#</a> 0.10.9 disableSourceOfProjectReferenceRedirect</h3> <h3 id="_0-10-10-emitbom"><a href="#_0-10-10-emitbom" class="header-anchor">#</a> 0.10.10 emitBOM</h3> <h3 id="_0-10-10-emitdeclarationonly"><a href="#_0-10-10-emitdeclarationonly" class="header-anchor">#</a> 0.10.10 emitDeclarationOnly</h3> <h3 id="_0-10-11-extendeddiagnostics"><a href="#_0-10-11-extendeddiagnostics" class="header-anchor">#</a> 0.10.11 extendedDiagnostics</h3> <h3 id="_0-10-12-forceconsistentcasinginfilenames"><a href="#_0-10-12-forceconsistentcasinginfilenames" class="header-anchor">#</a> 0.10.12 forceConsistentCasingInFileNames</h3> <h3 id="_0-10-13-generatecpuprofile"><a href="#_0-10-13-generatecpuprofile" class="header-anchor">#</a> 0.10.13 generateCpuProfile</h3> <h3 id="_0-10-14-importsnotusedasvalues"><a href="#_0-10-14-importsnotusedasvalues" class="header-anchor">#</a> 0.10.14 importsNotUsedAsValues</h3> <h3 id="_0-10-15-jsxfactory"><a href="#_0-10-15-jsxfactory" class="header-anchor">#</a> 0.10.15 jsxFactory</h3> <h3 id="_0-10-16-jsxfragmentfactory"><a href="#_0-10-16-jsxfragmentfactory" class="header-anchor">#</a> 0.10.16 jsxFragmentFactory</h3> <h3 id="_0-10-17-keyofstringsonly"><a href="#_0-10-17-keyofstringsonly" class="header-anchor">#</a> 0.10.17 keyofStringsOnly</h3> <h3 id="_0-10-18-listemittedfiles"><a href="#_0-10-18-listemittedfiles" class="header-anchor">#</a> 0.10.18 listEmittedFiles</h3> <h3 id="_0-10-19-listfiles"><a href="#_0-10-19-listfiles" class="header-anchor">#</a> 0.10.19 listFiles</h3> <h3 id="_0-10-20-maxnodemodulejsdepth"><a href="#_0-10-20-maxnodemodulejsdepth" class="header-anchor">#</a> 0.10.20 maxNodeModuleJsDepth</h3> <h3 id="_0-10-21-newline"><a href="#_0-10-21-newline" class="header-anchor">#</a> 0.10.21 newLine</h3> <h3 id="_0-10-22-noemithelpers"><a href="#_0-10-22-noemithelpers" class="header-anchor">#</a> 0.10.22 noEmitHelpers</h3> <h3 id="_0-10-23-noemitonerror"><a href="#_0-10-23-noemitonerror" class="header-anchor">#</a> 0.10.23 noEmitOnError</h3> <h3 id="_0-10-24-noerrortruncation"><a href="#_0-10-24-noerrortruncation" class="header-anchor">#</a> 0.10.24 noErrorTruncation</h3> <h3 id="_0-10-25-noimplicitusestrict"><a href="#_0-10-25-noimplicitusestrict" class="header-anchor">#</a> 0.10.25 noImplicitUseStrict</h3> <h3 id="_0-10-26-nolib"><a href="#_0-10-26-nolib" class="header-anchor">#</a> 0.10.26 noLib</h3> <h3 id="_0-10-27-noresolve"><a href="#_0-10-27-noresolve" class="header-anchor">#</a> 0.10.27 noResolve</h3> <h3 id="_0-10-28-nostrictgenericchecks"><a href="#_0-10-28-nostrictgenericchecks" class="header-anchor">#</a> 0.10.28 noStrictGenericChecks</h3> <h3 id="_0-10-29-out"><a href="#_0-10-29-out" class="header-anchor">#</a> 0.10.29 out</h3> <h3 id="_0-10-30-preserveconstenums"><a href="#_0-10-30-preserveconstenums" class="header-anchor">#</a> 0.10.30 preserveConstEnums</h3> <h3 id="_0-10-31-reactnamespace"><a href="#_0-10-31-reactnamespace" class="header-anchor">#</a> 0.10.31 reactNamespace</h3> <h3 id="_0-10-32-resolvejsonmodule"><a href="#_0-10-32-resolvejsonmodule" class="header-anchor">#</a> 0.10.32 resolveJsonModule</h3> <h3 id="_0-10-33-skipdefaultlibcheck"><a href="#_0-10-33-skipdefaultlibcheck" class="header-anchor">#</a> 0.10.33 skipDefaultLibCheck</h3> <h3 id="_0-10-34-skiplibcheck"><a href="#_0-10-34-skiplibcheck" class="header-anchor">#</a> 0.10.34 skipLibCheck</h3> <h3 id="_0-10-35-stripinternal"><a href="#_0-10-35-stripinternal" class="header-anchor">#</a> 0.10.35 stripInternal</h3> <h3 id="_0-10-36-suppressexcesspropertyerrors"><a href="#_0-10-36-suppressexcesspropertyerrors" class="header-anchor">#</a> 0.10.36 suppressExcessPropertyErrors</h3> <h3 id="_0-10-37-suppressimplicitanyindexerrors"><a href="#_0-10-37-suppressimplicitanyindexerrors" class="header-anchor">#</a> 0.10.37 suppressImplicitAnyIndexErrors</h3> <h3 id="_0-10-38-traceresolution"><a href="#_0-10-38-traceresolution" class="header-anchor">#</a> 0.10.38 traceResolution</h3> <h3 id="_0-10-39-usedefineforclassfields"><a href="#_0-10-39-usedefineforclassfields" class="header-anchor">#</a> 0.10.39 useDefineForClassFields</h3></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/other/https.html" class="prev">
        Https杂谈
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.81756711.js" defer></script><script src="/blog/assets/js/2.fd7f5526.js" defer></script><script src="/blog/assets/js/28.e1fc5e82.js" defer></script>
  </body>
</html>
